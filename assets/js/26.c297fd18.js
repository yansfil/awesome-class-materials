(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{463:function(t,s,a){t.exports=a.p+"assets/img/clean3.66349f13.png"},523:function(t,s,a){"use strict";a.r(s);var n=a(24),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"코드로-알아보는-클린-아키텍처"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#코드로-알아보는-클린-아키텍처"}},[t._v("#")]),t._v(" 코드로 알아보는 클린 아키텍처")]),t._v(" "),n("p",[t._v("클린 아키텍처를 적용하여 간단하게 유저를 생성하는 로직을 구현한 서버 코드를 살펴봅시다.")]),t._v(" "),n("h2",{attrs:{id:"프로젝트-구조"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#프로젝트-구조"}},[t._v("#")]),t._v(" 프로젝트 구조")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("domain/\n  entities.py\napplication/\n  use_cases/\n    create_user.py\n  interfaces/\n    user_repository.py\ninterface_adapter/\n  controller/\n    create_user.py\nframework_and_drvier/\n  server.py\n  db/\n    user_repository.py\n    orm.py \n")])])]),n("h3",{attrs:{id:"중요"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#중요"}},[t._v("#")]),t._v(" 중요")]),t._v(" "),n("ol",[n("li",[n("p",[n("strong",[t._v("네이밍을 꼭 레이어 이름대로 할 필요는 없습니다.")]),n("br"),t._v("\n좀 더 명확한 네이밍이나, 팀에서 협의가 된 네이밍 규칙이 있다면 그것을 쓰면 됩니다.")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("완벽한 + 똑같은 아키텍처는 존재하지 않습니다.")]),n("br"),t._v("\n상황에 따라 레이어 개수나 레이어별 의미는 달라질 수 있습니다. 중요한 것은 레어어를 잘 나눌 수 있도록 경계를 설정하고 의존 흐름을 바깥에서 안쪽으로 가져가는 것입니다.")])])]),t._v(" "),n("h2",{attrs:{id:"의존성-다이어그램"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#의존성-다이어그램"}},[t._v("#")]),t._v(" 의존성 다이어그램")]),t._v(" "),n("p",[n("img",{attrs:{src:a(463),alt:"image-20210916214832496"}})]),t._v(" "),n("h2",{attrs:{id:"엔티티"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#엔티티"}},[t._v("#")]),t._v(" 엔티티")]),t._v(" "),n("p",[t._v("먼저 다음처럼 엔티티를 정의합니다. 엔티티는 도메인에 핵심을 표현하는 객체입니다.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# domain/entities.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@dataclass")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n    name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n    password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n")])])]),n("h2",{attrs:{id:"유즈-케이스"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#유즈-케이스"}},[t._v("#")]),t._v(" 유즈 케이스")]),t._v(" "),n("p",[t._v('유즈 케이스는 애플리케이션의 주요 정책과 비즈니스 로직이 들어있는 계층입니다. 우리는 "유저 생성하기" 관련 비즈니스 로직을 작성하고 있습니다.')]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# application/use_cases/create_user.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" domain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entities "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" User\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" application"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interfaces"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_repository "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" UserRepository\n\n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@dataclass")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateUserInputDto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    user_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n    user_password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n\n        \n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@dataclass")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateUserOutputDto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n        \n        \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateUser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user_repository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" UserRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 의존성 역전을 위해 같은 레이어(applicaiton)에 있는 추상화된 UserRepository에 의존합니다.")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 다시 말해, 인프라스트럭쳐에 정의될 구체적인 UserRepositoryImpl 객체에 의존하지 않습니다.")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 실제 런타임에서는 UserRepository를 상속받은 세부 클래스를 주입해야 합니다.")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 세부 클래스는 인프라스트럭처 레이어에 정의되며, 이는 의존성 주입하는 부분에서 주입됩니다.")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_user_repository "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user_repository\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input_dto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CreateUserInputDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" CreateUserOutputDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        user_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_user_repository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_next_user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        user "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("input_dto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" paassword"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("input_dto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_user_repository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" CreateUserOutputDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("DTO(Data Transfer Object)란?")]),t._v(" "),n("p",[t._v("DTO는 데이터를 주고받기 위해 사용하는 객체입니다."),n("br"),t._v("\n보통 레이어간 의존성을 끊고, 도메인 모델을 보호하기 위해서 유즈 케이스의 입출력으로 DTO를 사용합니다.")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# application/interfaces/user_repository.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserRepository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ABC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@abstractmethod")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n")])])]),n("h2",{attrs:{id:"인터페이스-어댑터"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#인터페이스-어댑터"}},[t._v("#")]),t._v(" 인터페이스 어댑터")]),t._v(" "),n("p",[t._v("인터페이스 어댑터는 외부 영역(외부 DB, 웹 서버 등)과 내부 영역(유즈 케이스)의 인터페이스를 변환해주는 역할을 합니다."),n("br"),t._v("\n예를 들어 API 요청이 외부에서 들어왔을 때 유즈 케이스 입력으로 변환하여 유즈 케이스를 실행한 후 출력을 JSON 데이터로 내보냅니다.")]),t._v(" "),n("p",[t._v("일반적으로 웹, API 서버에서 컨트롤러 객체가 바로 이 인터페이스 어댑터에 해당됩니다.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# interface_adapter/controller/create_user.py")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" application"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("use_cases"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_user "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CreateUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CreateUserInputDto\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" framework_and_driver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userRepository "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" UserRepositoryImpl\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateUserJSONRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n    password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateUserJSONResponse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create_user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CreateUserJSONRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" CreateUserJSONResponse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 엄밀하게 보면 framework를 의존하고 있기에 위배됩니다. 보통 의존성 주입(DI) 프레임워크를 사용하거나 별도의 Factory를 둡니다")]),t._v("\n    user_repository "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" UserRepositoryImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \n    use_case "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CreateUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user_repository"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("user_repository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    input_dto "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CreateUserInputDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("json_request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user_password"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("json_request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    output_dto "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use_case"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_dto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" CreateUserJSONResponse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("output_dto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"프레임워크-드라이버"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#프레임워크-드라이버"}},[t._v("#")]),t._v(" 프레임워크 & 드라이버")]),t._v(" "),n("p",[t._v("프레임워크 & 드라이버에는 웹서버나 외부 데이터베이스 등 구체적으로 사용하는 세부 기술들이 놓이게 됩니다."),n("br"),t._v("\nWeb Server를 실행하는 프레임워크나 외부 데이터베이스와 직접적으로 통신하는 ORM 등의 설정 파일이 포함됩니다.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# framework_and_drvier/server.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" interface_adapter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_user "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_user\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\napp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FastAPI"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_api_route"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/users"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" endpoint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("create_user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" methods"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" status_code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("201")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    uvicorn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("또한 외부 데이터베이스에서 데이터를 받아온 후 유즈 케이스에 맞게 처리하는 Repository도 이에 해당됩니다.")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# framework_and_drvier/db/user_repository.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" application"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interfaces"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_repository "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" UserRepository\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" domain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entities "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" User\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserRepositoryImpl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UserRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" session_factory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Callable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AbstractContextManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session_factory "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" session_factory \n        \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session_factory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" user\n")])])]),n("br"),t._v(" "),n("h2",{attrs:{id:"좋은-아키텍처에-대한-고민"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#좋은-아키텍처에-대한-고민"}},[t._v("#")]),t._v(" 좋은 아키텍처에 대한 고민")]),t._v(" "),n("p",[t._v("레이어드 아키텍처부터, 헥사고날 그리고 클린 아키텍처까지 살펴보았습니다.")]),t._v(" "),n("p",[t._v("사실 아키텍처에 정답은 없습니다. 아키텍처는 아키텍처 자체로 남는 것이 아니라, 실제로 개발자들이 쉽고 지속적인 개발을 위해 존재합니다.\n아무리 유명한 아키텍처라고 하더라도, 당장 상황에 맞지 않은 아키텍처는 좋은 아키텍처가 아닙니다.")]),t._v(" "),n("p",[t._v('다만 "쉽고 지속적이며 생산성을 높이는 아키텍처"를 고려해본다면 아래를 떠올릴 수 있을 것 같습니다.')]),t._v(" "),n("ul",[n("li",[t._v("프로젝트, 아키텍처 구조만 보고도 애플리케이션을 쉽게 파악할 수 있는가?")]),t._v(" "),n("li",[t._v("추가 확장 및 수정사항에 용이한 구조를 가지고 있는가?")]),t._v(" "),n("li",[t._v("개발자가 어떤 모듈을 어디에 두어야 할지에 대한 고민을 줄여주는가?")]),t._v(" "),n("li",[t._v("쉽게 테스트가 가능한가?")])]),t._v(" "),n("p",[t._v("이런 질문에 해답을 내놓을 수 있는 아키텍처라면, 개발 생산성에도 도움을 줄 수 있는 좋은 아키텍처라고 할 수 있지 않을까요?")])])}),[],!1,null,null,null);s.default=e.exports}}]);