<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>대표적인 소프트웨어 아키텍처 패턴 알아보기 - 헥사고날 아키텍처 | 모든 개발자의 실무를 위한 필수 기본기 클래스 자료집</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="https://freeiconshop.com/wp-content/uploads/edd/code-outline.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-256SMMNXD0"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-256SMMNXD0');</script>
    <meta name="description" content="모든 개발자의 실무를 위한 필수 기본기 클래스 강의자료 모음집 입니다.">
    
    <link rel="preload" href="/awesome-class-materials/assets/css/0.styles.aedc2322.css" as="style"><link rel="preload" href="/awesome-class-materials/assets/js/app.6b15547c.js" as="script"><link rel="preload" href="/awesome-class-materials/assets/js/2.64c22d2c.js" as="script"><link rel="preload" href="/awesome-class-materials/assets/js/24.ace460ab.js" as="script"><link rel="prefetch" href="/awesome-class-materials/assets/js/10.b94d3cf2.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/11.172a3f6f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/12.9207d9ae.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/13.96b89ed5.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/14.be5a4bdc.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/15.2f9b5c47.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/16.e67e4c5a.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/17.cd57d69c.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/18.aaf89a1d.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/19.3470342c.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/20.b27998af.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/21.4fe25e7f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/22.320a2d40.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/23.da82ee94.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/25.dbc5e2a0.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/26.c297fd18.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/27.ba216905.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/28.66f32d5f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/29.9c4716d6.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/3.ea39e31b.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/30.4426fc58.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/31.1702c347.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/32.c7843765.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/33.2462d256.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/34.113a5267.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/35.40e26ef8.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/36.7895fbcc.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/37.001a845f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/38.76471fa6.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/39.6781a67a.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/4.59b78132.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/40.2f1a44f1.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/41.3fd1d957.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/42.d069a14a.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/43.ca6b7222.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/44.671bbb47.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/45.dd2b7c54.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/46.352d0a8a.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/47.237076be.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/48.4079e280.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/49.4683a458.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/5.50ea1caf.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/50.ce9d1373.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/51.e829ce5e.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/52.235c1875.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/53.fd1c9d32.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/54.97e6b138.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/55.e44bc72f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/56.9756bb36.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/57.18259e9e.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/58.a409a756.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/59.b68b7014.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/6.cf5144bd.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/60.09a4f88c.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/61.3ac4ef0b.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/62.aa47ea5f.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/63.2ef149d0.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/64.80830478.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/7.6fd19121.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/8.25f290c8.js"><link rel="prefetch" href="/awesome-class-materials/assets/js/9.8eb67190.js">
    <link rel="stylesheet" href="/awesome-class-materials/assets/css/0.styles.aedc2322.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout" data-v-04664600><div class="theme-container" data-v-04664600><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/awesome-class-materials/" class="home-link router-link-active"><img src="https://freeiconshop.com/wp-content/uploads/edd/code-outline.png" alt="모든 개발자의 실무를 위한 필수 기본기 클래스 자료집" class="logo"> <span class="site-name can-hide">모든 개발자의 실무를 위한 필수 기본기 클래스 자료집</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/awesome-class-materials/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/awesome-class-materials/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/awesome-class-materials/guide.html" class="sidebar-link">0. 소개 및 이용 가이드</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>1. 실습 환경 구축하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/1.사전준비/requirement.html" class="sidebar-link">사전 준비</a></li><li><a href="/awesome-class-materials/1.사전준비/사전 파이썬 공부하기.html" class="sidebar-link">사전 파이썬 공부하기</a></li><li><a href="/awesome-class-materials/1.사전준비/파이썬 문법.html" class="sidebar-link">파이썬 기본훑기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2. 협업의 필수 Git, 실전에서 자주 사용되는 명령어</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Git 기초 돌아보기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/11.git/Git의 기본 - 작업 공간.html" class="sidebar-link">작업 공간</a></li><li><a href="/awesome-class-materials/11.git/Git의 기본 - 브랜치.html" class="sidebar-link">브랜치</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>상황별 Git 다루는 법</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 1. log&amp;reflog.html" class="sidebar-link">[log &amp; reflog] 이전 commit 내역들과 변경사항을 확인하고 싶어요</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 2. reset.html" class="sidebar-link">[restore &amp; reset] 변경사항, 커밋을 초기화하고 싶어요</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 6. stash.html" class="sidebar-link">[stash] 변경 사항을 커밋하기 보단 임시저장하고 싶어요</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 3. revert.html" class="sidebar-link">[revert] 이전 커밋의 변경사항을 되돌리고 싶어요.</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 4. rebase-interactive.html" class="sidebar-link">[amend commit &amp; rebase] 이전에 쌓인 커밋들을 변경하고 싶어요.</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 5. merge.html" class="sidebar-link">[squash &amp; rebase merge] 브랜치를 머지할 때 머지 커밋을 남기기 싫어요</a></li><li><a href="/awesome-class-materials/11.git/상황별 Git 사용하기 - 7. cherrypick.html" class="sidebar-link">[cherry-pick] 다른 브랜치에 있는 커밋을 내 브랜치로 가져오고 싶어요.</a></li></ul></section></li><li><a href="/awesome-class-materials/11.git/실전 Conflict 다루기.html" class="sidebar-link">실전 충돌(Conflict) 다루기 - 1,2</a></li><li><a href="/awesome-class-materials/11.git/전략적으로 git 사용하기 - Gitflow.html" class="sidebar-link">전략적으로 Git 사용하기 - Gitflow</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>3. 깔끔한 코드를 위하여! 클린코드</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/2.clean-code/1. 네이밍.html" class="sidebar-link">클린 코드 - 네이밍</a></li><li><a href="/awesome-class-materials/2.clean-code/2. 주석, 포맷팅.html" class="sidebar-link">클린 코드 - 주석, 포맷팅</a></li><li><a href="/awesome-class-materials/2.clean-code/3. 함수.html" class="sidebar-link">클린 코드 - 함수</a></li><li><a href="/awesome-class-materials/2.clean-code/4. 클래스.html" class="sidebar-link">클린 코드 - 클래스</a></li><li><a href="/awesome-class-materials/2.clean-code/5. 에러핸들링.html" class="sidebar-link">클린 코드 - 에러 핸들링</a></li><li><a href="/awesome-class-materials/2.clean-code/6. 가드클라우징.html" class="sidebar-link">클린 코드 - 코드 indent 줄이기(Guard Clausing, Polymorphism)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>4. 코드로 알아보는 객체 지향 프로그래밍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/3.object-oriented/1. 프로그래밍 패러다임 흐름 파악하기 - 절차지향.html" class="sidebar-link">프로그래밍 패러다임 흐름 훑고가기 - 절차지향</a></li><li><a href="/awesome-class-materials/3.object-oriented/2. 프로그래밍 패러다임 흐름 파악하기 - 객체지향.html" class="sidebar-link">프로그래밍 패러다임 흐름 훑고가기 - 객체 지향</a></li><li><a href="/awesome-class-materials/3.object-oriented/3. 프로그래밍 패러다임 흐름 파악하기 - 함수형.html" class="sidebar-link">프로그래밍 패러다임 흐름 훑고가기 - 함수형 프로그래밍</a></li><li><a href="/awesome-class-materials/3.object-oriented/4. 객체 지향 기본적인 개념들 짚고 가기.html" class="sidebar-link">객체 지향의 기본적인 개념들 짚고 가기</a></li><li><a href="/awesome-class-materials/3.object-oriented/5. 코드로 알아보는 객체 지향의 특성.html" class="sidebar-link">코드로 알아보는 객체 지향의 특성</a></li><li><a href="/awesome-class-materials/3.object-oriented/6. 의존성 응집도 결합도.html" class="sidebar-link">의존성 응집도 결합도</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>5. (실습) 리팩토링을 통해 객체 지향 알아보기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/4.object-oriented-refactoring/리팩토링전코드.html" class="sidebar-link">리팩토링을 통해 객체 지향 알아보기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>6. 객체 지향 설계를 위한 SOLID 원칙</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/5.object-oriented-solid/SOLID - Single Responsibility.html" class="sidebar-link">SOLID - Single Responsibility</a></li><li><a href="/awesome-class-materials/5.object-oriented-solid/SOLID - Open Closed.html" class="sidebar-link">SOLID - Open Closed</a></li><li><a href="/awesome-class-materials/5.object-oriented-solid/SOLID - Liskov Substitution.html" class="sidebar-link">SOLID - Liskov Substitution</a></li><li><a href="/awesome-class-materials/5.object-oriented-solid/SOLID - Interface Segregation.html" class="sidebar-link">SOLID - Interface Segregation</a></li><li><a href="/awesome-class-materials/5.object-oriented-solid/SOLID - Dependency Inversion.html" class="sidebar-link">SOLID - Dependency Inversion</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>7. 견고한 서비스를 위한 테스트 코드 작성하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/6.test-code/테스트 기본 이해하기.html" class="sidebar-link">테스트 기본 이해하기</a></li><li><a href="/awesome-class-materials/6.test-code/종류별 테스트 작성하기.html" class="sidebar-link">종류별 테스트 작성하기</a></li><li><a href="/awesome-class-materials/6.test-code/의존성을 대체하는 테스트 더블.html" class="sidebar-link">의존성을 대체하는 테스트 더블</a></li><li><a href="/awesome-class-materials/6.test-code/TDD 기본 개념 익히기.html" class="sidebar-link">TDD 기본 개념 익히기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>8. (실습) 프로젝트에 테스트 적용하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/7. test적용/개요.html" class="sidebar-link">프로젝트에 Test 적용하기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>9. 더 나은 설계를 위해, 소프트웨어 아키텍처 기초와 패턴 이해하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/8.architecture/아키텍처를 시작하기 전에.html" class="sidebar-link">아키텍처를 시작하기 전에</a></li><li><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 레이어드 아키텍처.html" class="sidebar-link">대표적인 소프트웨어 아키텍처 패턴 알아보기 - 레이어드 아키텍처</a></li><li><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 헥사고날.html" class="active sidebar-link">대표적인 소프트웨어 아키텍처 패턴 알아보기 - 헥사고날 아키텍처</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 헥사고날.html#개념" class="sidebar-link">개념</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 헥사고날.html#구조" class="sidebar-link">구조</a></li></ul></li><li class="sidebar-sub-header"><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 헥사고날.html#예시" class="sidebar-link">예시</a></li><li class="sidebar-sub-header"><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 헥사고날.html#나가며" class="sidebar-link">나가며</a></li></ul></li><li><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 클린 아키텍처.html" class="sidebar-link">대표적인 소프트웨어 아키텍처 패턴 알아보기 - 클린 아키텍처</a></li><li><a href="/awesome-class-materials/8.architecture/클린 아키텍처 - 구현하기.html" class="sidebar-link">코드로 알아보는 클린 아키텍처</a></li><li><a href="/awesome-class-materials/8.architecture/모놀리스와 마이크로서비스.html" class="sidebar-link">모놀리스와 마이크로서비스 아키텍처</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>10. (실습) 프로젝트에 아키텍처 적용하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/9. architecture 적용/개요.html" class="sidebar-link">프로젝트에 아키텍처와 테스트 적용하기</a></li><li><a href="/awesome-class-materials/9. architecture 적용/생각해봐야 할 것.html" class="sidebar-link">프로젝트 더 디벨롭하기</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>11. 회사에서 공부하면 좋을 개발 지식들</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>1.효율적으로 프로그램 운영하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/10.basic-knowledge/1.효율적으로 프로그램 운영하기/프로세스와 스레드 기본.html" class="sidebar-link">프로세스와 스레드 기본</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/1.효율적으로 프로그램 운영하기/병렬성과 동시성.html" class="sidebar-link">병렬성과 동시성</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/1.효율적으로 프로그램 운영하기/멀티스레드와 멀티프로세스.html" class="sidebar-link">멀티 스레드와 멀티 프로세스</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/1.효율적으로 프로그램 운영하기/동기와 비동기, 블락과 논블락.html" class="sidebar-link">동기와 비동기, 블락과 논블락</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>2.쉽고 빠르게 프로그램 배포하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/10.basic-knowledge/2.쉽고 빠르게 프로그램 배포하기/가상화기술과 도커.html" class="sidebar-link">가상화 기술과 도커</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/2.쉽고 빠르게 프로그램 배포하기/배포와 CI&amp;CD.html" class="sidebar-link">배포와 CI/CD</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>3. 서비스의 핵심 요소, 회원가입과 로그인 이해하기</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/10.basic-knowledge/3.로그인과 회원가입의 기본/세션과 쿠키.html" class="sidebar-link">쿠키와 세션</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/3.로그인과 회원가입의 기본/사용자 인증.html" class="sidebar-link">사용자 인증(Authentication)</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>4. 추가</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/awesome-class-materials/10.basic-knowledge/4.추가/OSI 7계층과 TCP_IP 4계층 모델.html" class="sidebar-link">OSI 7계층과 TCP/IP 4계층 모델</a></li><li><a href="/awesome-class-materials/10.basic-knowledge/4.추가/우리 회사는 어떻게 웹 서비스를 운영할까.html" class="sidebar-link">우리 회사는 어떻게 웹 서비스를 운영할까?</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="대표적인-소프트웨어-아키텍처-패턴-알아보기-헥사고날-아키텍처"><a href="#대표적인-소프트웨어-아키텍처-패턴-알아보기-헥사고날-아키텍처" class="header-anchor">#</a> 대표적인 소프트웨어 아키텍처 패턴 알아보기 - 헥사고날 아키텍처</h1> <p>애플리케이션은 데이터베이스에 있는 데이터를 그저 옮겨주는 수동적인 소프트웨어를 넘어 보다 적극적이고, 여러 일을 할 수 있어야 합니다.<br>
데이터베이스 같은 외부 시스템이 애플리케이션의 중심이 아니라, 애플리케이션이 &quot;사용하는&quot; 일부가 되어야 합니다. 상황에 따라 RDBMS에서 NoSQL을 쓸 수도 있고, API 서버와 통신 방식을 Rest에서 GraphQL로 바꿀 수 있어야 합니다.</p> <p>이렇듯 애플리케이션을 중심으로 보고, DB, 웹 프레임워크 등은 모두 애플리케이션이 사용하는 부품(언제든 갈아끼울 수 있는)으로 보는 아키텍처들이 주목받기 시작했습니다.
대표적인 아키텍처로 <code>헥사고날 아키텍처</code>와 <code>클린 아키텍처</code>가 있습니다.</p> <h2 id="개념"><a href="#개념" class="header-anchor">#</a> 개념</h2> <p><img src="/awesome-class-materials/assets/img/img-20210908221828493.12ad3998.jpg" alt="img"><br>
(출처: https://livebook.manning.com/book/microservices-patterns/chapter-2/53)</p> <p>헥사고날(포트 앤 어댑터) 아키텍처는 흔히 육각형의 이미지로 소개되는데, 애플리케이션과 바깥의 모듈들을 자유롭게 탈착 가능하게 하는 것이 골자입니다.</p> <p>&quot;탈착 가능하다&quot;의 개념은 플레이스테이션 같은 게임기를 생각해보면 더 쉽게 이해가 될 것 같습니다.<br>
게임기에서 가장 중요한 부분은 게임을 실행시키는 본체입니다. 게임기에 연결된 입력 패드나, 게임 화면을 보여주는 모니터는 게임기 본체의 포트와 맞는 규격이면 언제든지 사용자 취향에 따라 바뀔 수 있습니다.
따라서 중요한 것은 게임기 본체 그 자체이고, 그 외부적인 것들은 언제든지 탈부착이 가능합니다.</p> <p>헥사고날 아키텍처의 핵심도 바로 이와 같습니다. 가운데 애플리케이션을 중심으로 애플리케이션 외의 모듈은 애플리케이션에서 제공하는 포트 모양에 맞다면 언제든 바꿀 수 있도록 하는 것입니다.</p> <p>헥사고날 아키텍처는 어댑터가 포트 모양만 맞으면 동작하는 것 같다고 해서 포트 앤 어댑터(Ports-and-Adapters)라고 부르기도 합니다. 즉 포트만 맞으면, 어떤 어댑터든 이 포트에 끼울 수 있습니다.</p> <h3 id="구조"><a href="#구조" class="header-anchor">#</a> 구조</h3> <p>이제 헥사고날 아키텍처의 구성 요소를 다음처럼 정리해볼 수 있습니다.</p> <ul><li>도메인
<ul><li>레이어드 아키텍처에서의 도메인 레이어 개념과 같습니다.</li> <li>애플리케이션의 핵심이 되는 도메인을 표현합니다.</li></ul></li> <li>애플리케이션
<ul><li>도메인을 이용한 애플리케이션의 비즈니스 로직을 제공합니다.</li> <li>관용적으로 <code>Service</code> 라고 표현하곤 합니다.</li> <li>애플리케이션은 <code>포트</code>를 가지고 있습니다.
<ul><li>포트는 외부 어댑터를 끼울 수 있는 인터페이스 입니다.</li> <li>위 플레이스테이션 예시에서 게임기 본체가 애플리케이션이고, 본체에 있는 입출력, 혹은 모니터 단자를 끼울 수 있는 포트가 여기서 말하는 포트라고 이해하면 쉽습니다.</li> <li>애플리케이션으로 흐름이 들어오는 포트는 인바운드 포트, 애플리케이션에서 흐름이 나가는 포트는 아웃바운드 포트라고 합니다.</li> <li>포트는 프로그래밍 문법에서 인터페이스로 구현할 수 있습니다.</li></ul></li></ul></li> <li>어댑터
<ul><li>애플리케이션 내에 있는 포트에 끼울 수 있는 구현체입니다.</li> <li>web이나 cli 등은 인바운드 포트에 끼울 수 있는 인바운드 어댑터에서 이용합니다.</li> <li>db 등은 아웃바운드 포트에 끼울 수 있는 아웃바운드 어댑터를 통해 이용합니다.</li> <li>어댑터는 보통 포트를 나타내는 인터페이스를 상속받아 구현합니다.</li></ul></li></ul> <p>헥사고날 아키텍처에서 레이어 의존성이 다음처럼 흐릅니다.</p> <div class="language- extra-class"><pre class="language-text"><code>어댑터 -&gt; 애플리케이션 -&gt; 도메인
</code></pre></div><p>위의 의존성 흐름을 역행하면 안됩니다. 예를 들면, 비즈니스 로직 -&gt; 어댑터로, 도메인 -&gt; 어댑터로 흐르는 의존성이 없어야 합니다.</p> <h2 id="예시"><a href="#예시" class="header-anchor">#</a> 예시</h2> <p>헥사고날 아키텍처를 프로젝트 구조로 표현하면 다음과 같습니다.</p> <div class="language- extra-class"><pre class="language-text"><code>src/
  adapter/
    inbound/
      api/
        product_controller.py
        user_controller.py
        ...
    outbound/
      repositories/
        product_repository.py
  	    user_repository.py
  application/
    service/
      product_service.py
      user_service.py
    port/
      inbound/
        product_port.py
        user_port.py
      outbound/
        product_repository.py
        user_repository.py
  domain/
    product.py
    user.py
</code></pre></div><p>먼저 프로젝트 최상단에서 크게 어댑터, 애플리케이션, 도메인으로 레이어를 디렉토리로 나눕니다. 그리고 각 디렉토리 내에 해당 레이어에 포함되는 컴포넌트들을 배치합니다.</p> <p>레이어드 아키텍처에서는 다음처럼 서비스 레이어에 있는 모듈이 인프라스트럭쳐에 있는 모듈을 사용할 수 있었습니다.</p> <ul><li>as-is<div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/application_layer/product_service.py</span>

<span class="token keyword">from</span> src<span class="token punctuation">.</span>domain_layer <span class="token keyword">import</span> product
<span class="token keyword">from</span> src<span class="token punctuation">.</span>infrastructure_layer<span class="token punctuation">.</span>database <span class="token keyword">import</span> db
<span class="token keyword">from</span> src<span class="token punctuation">.</span>infrastructure_layer<span class="token punctuation">.</span>repositories <span class="token keyword">import</span> product_repository

<span class="token keyword">def</span> <span class="token function">create_product</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    product_repository <span class="token operator">=</span> product_repository<span class="token punctuation">.</span>ProductRepository<span class="token punctuation">(</span>session<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></li></ul> <p>그러나 헥사고날 아키텍처에서는 이런 흐름은 금지되므로, 다음처럼 코드를 수정해야 합니다.</p> <ul><li>to-be<div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/application/service/product_service.py</span>

<span class="token keyword">from</span> src<span class="token punctuation">.</span>domain <span class="token keyword">import</span> product
<span class="token keyword">from</span> src<span class="token punctuation">.</span>applicaiton<span class="token punctuation">.</span>port<span class="token punctuation">.</span>outbound<span class="token punctuation">.</span>product_repository <span class="token keyword">import</span> ProductRepository  <span class="token comment"># 이 부분이 수정되었습니다!</span>
<span class="token comment"># 이제 애플리케이션 레이어는 인프라스트럭쳐 레이어가 아닌 애플리케이션 레이어에 의존합니다</span>

<span class="token keyword">def</span> <span class="token function">create_product</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> product_repository<span class="token punctuation">:</span> ProductRepository<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    product_repository<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>포트 앤 어댑터의 의존성 원칙은 저수준이 아닌 고수준에 의존하라는 의존성 역전 원칙과도 동일 선상이라고 볼 수 있습니다.<br>
보통 컴파일 의존성(코드 의존성)에서는 이렇게 고수준을 의존하게 한 후, 런타임에서 의존성을 주입해줍니다(의존성 주입 프레임워크를 많이 활용함)</p></div> <p>포트는 다음처럼 인터페이스(추상 클래스)로 구현합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/application/port/outbound/product_repository.py</span>

<span class="token keyword">from</span> abc <span class="token keyword">import</span> ABC<span class="token punctuation">,</span> abstractmethod
<span class="token keyword">from</span> src<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>product <span class="token keyword">import</span> Product

<span class="token keyword">class</span> <span class="token class-name">ProductRepository</span><span class="token punctuation">(</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>product<span class="token punctuation">:</span> Product<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
</code></pre></div><p>그리고 이 포트를 구현한 클래스는 <code>src/adapter/outbound/repositories/product_repository.py</code> 에 구현합니다.</p> <p>도메인도 마찬가지로 레이어드 아키텍처에서는 인프라스트럭쳐 레이어의 컴포넌트에 의존했습니다.</p> <ul><li>as-is<div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/domain_layer/product.py</span>

<span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> Column<span class="token punctuation">,</span> String<span class="token punctuation">,</span> Integer
<span class="token comment"># DB와 연결하는 일은 인프라스트럭처 레이어에서의 일입니다.</span>
<span class="token keyword">from</span> src<span class="token punctuation">.</span>infrastructure_layer<span class="token punctuation">.</span>database <span class="token keyword">import</span> Base  

<span class="token comment"># 도메인 레이어의 컴포넌트(Product)는 인프라스트럭쳐 레이어의 컴포넌트(Base)에 의존합니다.</span>
<span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span>
    __tablename__ <span class="token operator">=</span> <span class="token string">'product'</span>
    
    <span class="token builtin">id</span> <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">)</span>
    price <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>이 코드도 이제 도메인이 인프라스트럭쳐에 의존하지 않게 다음처럼 변경할 수 있습니다.</p> <ul><li>to-be<div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/domain/product.py</span>

<span class="token keyword">from</span> dataclasses <span class="token keyword">import</span> dataclass

<span class="token decorator annotation punctuation">@dataclass</span>
<span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">int</span>
    name<span class="token punctuation">:</span> <span class="token builtin">str</span>
    price<span class="token punctuation">:</span> <span class="token builtin">int</span>
</code></pre></div></li></ul> <p>어댑터 코드의 경우는 외부 서비스와 연결해주는 인터페이스의 역할을 해주는 코드를 작성해주면 됩니다.
애플리케이션의 Port(고수준)를 구현한 저수준의 코드가 포함됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># src/adapter/outbound/product_repository.py</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span> src<span class="token punctuation">.</span>application<span class="token punctuation">.</span>port<span class="token punctuation">.</span>outbound<span class="token punctuation">.</span>product_repository <span class="token keyword">import</span> ProductRepository

<span class="token keyword">class</span> <span class="token class-name">MysqlProductRepository</span><span class="token punctuation">(</span>ProductRepository<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        product <span class="token operator">=</span> Product<span class="token punctuation">(</span>name<span class="token punctuation">,</span> price<span class="token punctuation">)</span>
        <span class="token keyword">with</span> self<span class="token punctuation">.</span>db<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> session<span class="token punctuation">:</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
            session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><br> <h2 id="나가며"><a href="#나가며" class="header-anchor">#</a> 나가며</h2> <p>헥사고날 아키텍처를 통해 우리는 프로젝트의 중요한 부분(애플리케이션과 도메인)과 덜 중요한 부분(어댑터)을 구분하고, 의존성의 방향을 중요한 것으로 흐르게 해서, 덜 중요한 부분은 언제든 바꿀 수 있도록 유연하게 코드를 설계했습니다.
이를 통해 인프라스트럭처 중심의 설계를 하지 않아도 되며, 코드 확장에 대해서도 더 열려있게 되었습니다.</p> <p>다만 이전보다 어댑터, 포트 등 알아야 할 개념과 보일러 플레이트 코드가 늘어날 수 있다는 단점이 있습니다.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/20/2022, 1:51:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 레이어드 아키텍처.html" class="prev">
        대표적인 소프트웨어 아키텍처 패턴 알아보기 - 레이어드 아키텍처
      </a></span> <span class="next"><a href="/awesome-class-materials/8.architecture/대표적인 아키텍처들 알아보기 - 클린 아키텍처.html">
        대표적인 소프트웨어 아키텍처 패턴 알아보기 - 클린 아키텍처
      </a>
      →
    </span></p></div> </main></div> <footer class="siteFooter" data-v-04664600><p data-v-04664600>CC-BY-NC-ND-4.0 Licensed | Copyright © 2021-present <a href="https://github.com/yansfil" data-v-04664600>Grab</a></p></footer></div><div class="global-ui"><!----></div></div>
    <script src="/awesome-class-materials/assets/js/app.6b15547c.js" defer></script><script src="/awesome-class-materials/assets/js/2.64c22d2c.js" defer></script><script src="/awesome-class-materials/assets/js/24.ace460ab.js" defer></script>
  </body>
</html>
